var blBookmarks;blBookmarks=function(){var a,b,c,d,e;b=Array.prototype.slice,c=Function.prototype.bind||function(a){var c,d;return c=this,d=b.call(arguments,1),function(){var e;return e=b.call(arguments),c.apply(a,d.concat(e))}},d=c.call(c,Function.prototype.call),e=function(){var a,e,f;return a=d(b),e=d(c),f=d(Function.prototype.apply),"function"==typeof setImmediate?function(){var b;b=a(arguments),setImmediate(f(e,null,b))}:"function"==typeof MessageChannel?function(){var b,c;return b=new MessageChannel,c=[],b.port1.onmessage=function(){c.shift()()},function(){var d;d=a(arguments),c.push(f(e,null,d)),b.port2.postMessage(0)}}():function(){var b;b=a(arguments),setTimeout(f(e,null,b),0)}}(),a=function(a,b){var c,d;for(c in b)d=b[c],b.hasOwnProperty(c)===!0&&(a[c]=b[c]);return a};var f=function(b){var c;null===b&&(b={}),this.opts=c=a(this.default_options,b)};return f.prototype.default_options={blog_url:"",bookmark_services:[],base_tag:"div",base_elem:"bookmark",data_url:"data-url",data_subject:"data-subject",simpleui:"simplesbm"},f.prototype.Run=function(a){var b;b=this;var c=function(){var a=new blBookmarksAlternative({bookmark_services:b.opts.bookmark_services,blog_url:b.opts.blog_url});a.exe()},d=document.createElement("script");d.type="text/javascript",d.charaset="utf-8",d.src=a,"undefined"!=typeof d.onload?d.onload=c:d.onreadystatechange=function(){("loaded"===this.readyState||"complete"===this.readyState)&&c()},s=document.getElementsByTagName("script")[0],s.parentNode.insertBefore(d,s)},f.prototype.addstyle=function(){var a=this,b=document.createElement("link");b.setAttribute("rel","stylesheet"),b.setAttribute("type","text/css"),b.setAttribute("href",a.opts.blog_url+"/css/simplesbm.css"),document.getElementsByTagName("head")[0].appendChild(b)},f.prototype.exe=function(){var a,b;a=this,e(function(){"undefined"!=typeof document.documentElement.style.maxHeight&&(1===this.opts.bookmark_services.length&&this.opts.bookmark_services[0]===this.opts.simpleui?(b=this.get_class_list(this.opts.base_tag,this.opts.base_elem),this.addstyle(),this.draw_bookmarks(b)):this.opts.bookmark_services.length>0&&this.Run(this.opts.blog_url+"/js/bl-bookmarks-classic-pc.js"))},a)},f.prototype.draw_bookmarks=function(a){var b,c,d,e,f,g=document.createDocumentFragment();for(e=0,f=a.length;f>e;e++)b=a[e],d=b.getAttribute(this.opts.data_url),c=b.getAttribute(this.opts.data_subject),g.appendChild(this.simpleui(d,c)),b.appendChild(g)},f.prototype.simpleui=function(a,b){var c,d=document.createElement("ul"),e="seesaa-simple-sbm";return null!==d.getAttribute("className")?d.setAttribute("className",e):d.setAttribute("class",e),c='<li class="seesaa-simple-sbm__item is-first"><a class="seesaa-simple-sbm-twitter" target="_blank" onClick="javascript:window.open(this.href, \'seesaa-simple-twitter\', \'width=650, height=450, menubar=no, toolbar=no, scrollbars=yes\');return false;" href="https://twitter.com/share?url=__URI__&amp;text=__SUBJECT__">twitter</a></li><li class="seesaa-simple-sbm__item"><a class="seesaa-simple-sbm-facebook" target="_blank" onClick="javascript:window.open(this.href, \'seesaa-simple-facebook\', \'width=650, height=450, menubar=no, toolbar=no, scrollbars=yes\');return false;" href="https://www.facebook.com/sharer.php?u=__URI__&amp;t=__SUBJECT__">facebook</a></li><li class="seesaa-simple-sbm__item"><a class="seesaa-simple-sbm-hatena" target="_blank" onClick="javascript:window.open(this.href, \'seesaa-simple-hatena\', \'width=650, height=450, menubar=no, toolbar=no, scrollbars=yes\');return false;" href="http://b.hatena.ne.jp/entry/__URI__">hatena</a></li>',d.innerHTML=c.replace(/__URI__/g,encodeURIComponent(a)).replace(/__SUBJECT__/g,encodeURIComponent(b)),d},f.prototype.get_class_list=function(a,b){var c,d,e,f,g;for(c=[],e=document.getElementsByTagName(a),f=0,g=e.length;g>f;f++)d=e[f],d.className===b&&c.push(d);return c},f}();